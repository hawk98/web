<HTML>	
<HEAD>
<META http-equiv=Content-Type content="text/html; charset=gb2312">
<TITLE>page</TITLE><script language="javascript">if (window == top) top.location.href = "/index.html";
 </script>
<link href="css/display_web.css" rel="stylesheet" type="text/css" />


<script language="javascript" src="js/InputCheck_web.js"></script>


<script language="javascript">

var portNum = $%portNum#$;
var fePortNum = $%fePortNum#$;

var qI = new Array();
qI[1] = "$%qI1#$";
qI[2] = "$%qI2#$";
qI[3] = "$%qI3#$";
qI[4] = "$%qI4#$";
qI[5] = "$%qI5#$";
qI[6] = "$%qI6#$";
qI[7] = "$%qI7#$";
qI[8] = "$%qI8#$";
qI[9] = "$%qI9#$";
qI[10] = "$%qI10#$";
qI[11] = "$%qI11#$";
qI[12] = "$%qI12#$";
qI[13] = "$%qI13#$";
qI[14] = "$%qI14#$";
qI[15] = "$%qI15#$";
qI[16] = "$%qI16#$";
qI[17] = "$%qI17#$";
qI[18] = "$%qI18#$";
qI[19] = "$%qI19#$";
qI[20] = "$%qI20#$";
qI[21] = "$%qI21#$";
qI[22] = "$%qI22#$";
qI[23] = "$%qI23#$";
qI[24] = "$%qI24#$";
qI[25] = "$%qI25#$";
qI[26] = "$%qI26#$";
qI[27] = "$%qI27#$";
qI[28] = "$%qI28#$";

var qlI1 = new Array();
qlI1[1] = "$%qlI1(1)#$";
qlI1[2] = "$%qlI2(1)#$";
qlI1[3] = "$%qlI3(1)#$";
qlI1[4] = "$%qlI4(1)#$";
qlI1[5] = "$%qlI5(1)#$";
qlI1[6] = "$%qlI6(1)#$";
qlI1[7] = "$%qlI7(1)#$";
qlI1[8] = "$%qlI8(1)#$";
qlI1[9] = "$%qlI9(1)#$";
qlI1[10] = "$%qlI10(1)#$";
qlI1[11] = "$%qlI11(1)#$";
qlI1[12] = "$%qlI12(1)#$";
qlI1[13] = "$%qlI13(1)#$";
qlI1[14] = "$%qlI14(1)#$";
qlI1[15] = "$%qlI15(1)#$";
qlI1[16] = "$%qlI16(1)#$";
qlI1[17] = "$%qlI17(1)#$";
qlI1[18] = "$%qlI18(1)#$";
qlI1[19] = "$%qlI19(1)#$";
qlI1[20] = "$%qlI20(1)#$";
qlI1[21] = "$%qlI21(1)#$";
qlI1[22] = "$%qlI22(1)#$";
qlI1[23] = "$%qlI23(1)#$";
qlI1[24] = "$%qlI24(1)#$";
qlI1[25] = "$%qlI25(1)#$";
qlI1[26] = "$%qlI26(1)#$";
qlI1[27] = "$%qlI27(1)#$";
qlI1[28] = "$%qlI28(1)#$";

var qlI2 = new Array();
qlI2[1] = "$%qlI1(2)#$";
qlI2[2] = "$%qlI2(2)#$";
qlI2[3] = "$%qlI3(2)#$";
qlI2[4] = "$%qlI4(2)#$";
qlI2[5] = "$%qlI5(2)#$";
qlI2[6] = "$%qlI6(2)#$";
qlI2[7] = "$%qlI7(2)#$";
qlI2[8] = "$%qlI8(2)#$";
qlI2[9] = "$%qlI9(2)#$";
qlI2[10] = "$%qlI10(2)#$";
qlI2[11] = "$%qlI11(2)#$";
qlI2[12] = "$%qlI12(2)#$";
qlI2[13] = "$%qlI13(2)#$";
qlI2[14] = "$%qlI14(2)#$";
qlI2[15] = "$%qlI15(2)#$";
qlI2[16] = "$%qlI16(2)#$";
qlI2[17] = "$%qlI17(2)#$";
qlI2[18] = "$%qlI18(2)#$";
qlI2[19] = "$%qlI19(2)#$";
qlI2[20] = "$%qlI20(2)#$";
qlI2[21] = "$%qlI21(2)#$";
qlI2[22] = "$%qlI22(2)#$";
qlI2[23] = "$%qlI23(2)#$";
qlI2[24] = "$%qlI24(2)#$";
qlI2[25] = "$%qlI25(2)#$";
qlI2[26] = "$%qlI26(2)#$";
qlI2[27] = "$%qlI27(2)#$";
qlI2[28] = "$%qlI28(2)#$";

var qE = new Array();
qE[1] = "$%qE1#$";
qE[2] = "$%qE2#$";
qE[3] = "$%qE3#$";
qE[4] = "$%qE4#$";
qE[5] = "$%qE5#$";
qE[6] = "$%qE6#$";
qE[7] = "$%qE7#$";
qE[8] = "$%qE8#$";
qE[9] = "$%qE9#$";
qE[10] = "$%qE10#$";
qE[11] = "$%qE11#$";
qE[12] = "$%qE12#$";
qE[13] = "$%qE13#$";
qE[14] = "$%qE14#$";
qE[15] = "$%qE15#$";
qE[16] = "$%qE16#$";
qE[17] = "$%qE17#$";
qE[18] = "$%qE18#$";
qE[19] = "$%qE19#$";
qE[20] = "$%qE20#$";
qE[21] = "$%qE21#$";
qE[22] = "$%qE22#$";
qE[23] = "$%qE23#$";
qE[24] = "$%qE24#$";
qE[25] = "$%qE25#$";
qE[26] = "$%qE26#$";
qE[27] = "$%qE27#$";
qE[28] = "$%qE28#$";

var qlE1 = new Array();
qlE1[1] = "$%qlE1(1)#$";
qlE1[2] = "$%qlE2(1)#$";
qlE1[3] = "$%qlE3(1)#$";
qlE1[4] = "$%qlE4(1)#$";
qlE1[5] = "$%qlE5(1)#$";
qlE1[6] = "$%qlE6(1)#$";
qlE1[7] = "$%qlE7(1)#$";
qlE1[8] = "$%qlE8(1)#$";
qlE1[9] = "$%qlE9(1)#$";
qlE1[10] = "$%qlE10(1)#$";
qlE1[11] = "$%qlE11(1)#$";
qlE1[12] = "$%qlE12(1)#$";
qlE1[13] = "$%qlE13(1)#$";
qlE1[14] = "$%qlE14(1)#$";
qlE1[15] = "$%qlE15(1)#$";
qlE1[16] = "$%qlE16(1)#$";
qlE1[17] = "$%qlE17(1)#$";
qlE1[18] = "$%qlE18(1)#$";
qlE1[19] = "$%qlE19(1)#$";
qlE1[20] = "$%qlE20(1)#$";
qlE1[21] = "$%qlE21(1)#$";
qlE1[22] = "$%qlE22(1)#$";
qlE1[23] = "$%qlE23(1)#$";
qlE1[24] = "$%qlE24(1)#$";
qlE1[25] = "$%qlE25(1)#$";
qlE1[26] = "$%qlE26(1)#$";
qlE1[27] = "$%qlE27(1)#$";
qlE1[28] = "$%qlE28(1)#$";

var qlE2 = new Array();
qlE2[1] = "$%qlE1(2)#$";
qlE2[2] = "$%qlE2(2)#$";
qlE2[3] = "$%qlE3(2)#$";
qlE2[4] = "$%qlE4(2)#$";
qlE2[5] = "$%qlE5(2)#$";
qlE2[6] = "$%qlE6(2)#$";
qlE2[7] = "$%qlE7(2)#$";
qlE2[8] = "$%qlE8(2)#$";
qlE2[9] = "$%qlE9(2)#$";
qlE2[10] = "$%qlE10(2)#$";
qlE2[11] = "$%qlE11(2)#$";
qlE2[12] = "$%qlE12(2)#$";
qlE2[13] = "$%qlE13(2)#$";
qlE2[14] = "$%qlE14(2)#$";
qlE2[15] = "$%qlE15(2)#$";
qlE2[16] = "$%qlE16(2)#$";
qlE2[17] = "$%qlE17(2)#$";
qlE2[18] = "$%qlE18(2)#$";
qlE2[19] = "$%qlE19(2)#$";
qlE2[20] = "$%qlE20(2)#$";
qlE2[21] = "$%qlE21(2)#$";
qlE2[22] = "$%qlE22(2)#$";
qlE2[23] = "$%qlE23(2)#$";
qlE2[24] = "$%qlE24(2)#$";
qlE2[25] = "$%qlE25(2)#$";
qlE2[26] = "$%qlE26(2)#$";
qlE2[27] = "$%qlE27(2)#$";
qlE2[28] = "$%qlE28(2)#$";


function checkSub()
{
	var idName="";
	var typeNameI =""; 
	var typeNameE = "";
	var i=1;
	var maxK = 2048, maxM = 100;
	for(i=1;i<=portNum;i++)
	{
		if(i > fePortNum){maxK = 2048;maxM = 1000;}
		typeNameI = "qlI"+i;
		typeNameE = "qlE"+i;
		idName = "qI"+i;
		if(!fucCheckNUM1(document.getElementById(idName).value) || document.getElementById(idName).value< 0)
		{
			alert("端口"+convert_tomodport(i)+"进方向速率设置错误，请输入正确的数字");
			return;
		}
		if((document.getElementById(idName).value > maxK||document.getElementById(idName).value <64) && document.getElementById(typeNameI).value == 1)
		{
			alert("端口"+convert_tomodport(i)+"进方向速率设置错误，正确值是 64-" + maxK + "！");
			return;
		}
		if((document.getElementById(idName).value>maxM||document.getElementById(idName).value <1) && document.getElementById(typeNameI).value == 2)
		{
			alert("端口"+convert_tomodport(i)+"进方向速率设置错误，正确值是 1-" + maxM + "！");
			return;
		}
		
		
		
		idName = "qE"+i;
		if(!fucCheckNUM1(document.getElementById(idName).value) || document.getElementById(idName).value< 0)
		{
			alert("端口"+convert_tomodport(i)+"出方向速率设置错误，请输入正确的数字");
			return;
		}
		if((document.getElementById(idName).value > maxK||document.getElementById(idName).value <64) && document.getElementById(typeNameE).value == 1)
		{
			alert("端口"+convert_tomodport(i)+"出方向速率设置错误，正确值是 64-" + maxK + "！");
			return;
		}
		if((document.getElementById(idName).value>maxM||document.getElementById(idName).value <1) && document.getElementById(typeNameE).value == 2)
		{
			alert("端口"+convert_tomodport(i)+"出方向速率设置错误，正确值是 1-" + maxM + "！");
			return;
		}			
	}
	submitForm0();
}


function fucCheckNUM1(NUM)
{
 var i,j,strTemp;
 strTemp="0123456789";
 if ( NUM.length== 0)
  return 0
 for (i=0;i<NUM.length;i++)
 {
  	j=strTemp.indexOf(NUM.charAt(i)); 
  if (j==-1)
  {
  //说明有字符不是数字
   return false;
  }
 }
 //说明是数字
 return true;
} 

function submitForm0(){
  var doc = document.form0;
  doc.qIStr.value = "";
  doc.qlIStr.value = "";
  doc.qEStr.value = "";
  doc.qlEStr.value = "";
  for(var i = 1; i <= portNum; i++){
    doc.qIStr.value += document.getElementById("qI" + i).value + ",";
    doc.qlIStr.value += document.getElementById("qlI" + i).value;
    doc.qEStr.value += document.getElementById("qE" + i).value + ",";
    doc.qlEStr.value += document.getElementById("qlE" + i).value;
  }
  doc.qIStr.value = doc.qIStr.value.substring(0, doc.qIStr.value.length-1);
  doc.qEStr.value = doc.qEStr.value.substring(0, doc.qEStr.value.length-1);
  doc.submit();
}

function display()
{
	changebgcolor();
}
</script>


</HEAD>

<BODY  onload=display() >
<br>


<div id="view_help"  style="display:none">

<table width="98%" border="0" align="center" cellpadding="0" cellspacing="0" class="">
<tr>
    <td  class="Tablelist"><nobr>帮助</nobr></td>
    <td   class="tablenew"></td>
  </tr>
</table>
<TABLE width="98%" align="center" cellpadding=0 cellspacing=0   class="tablebord" bgcolor="D3E4F4">
	  
<SCRIPT language="javascript">
		document.writeln(top.leftframe.helptext('qos_port'));
 </SCRIPT>
	  
	  </TABLE>
</div>


<form id="form0" name="form0" method="post" action="qos_port.html">
  <input type="hidden" name="qIStr" value="$%qIStr#$">
  <input type="hidden" name="qlIStr" value="$%qlIStr#$">
  <input type="hidden" name="qEStr" value="$%qEStr#$">
  <input type="hidden" name="qlEStr" value="$%qlEStr#$">
</form>
<form id="form1" name="form1" method="post" action="qos_port.html">
<table width="98%" border="0" align="center" cellpadding="0" cellspacing="0" class="">
  <tr>
    <td  class=Tablelist id=tabs name=tabs>端口限速</td>
    
  </tr>
</table>

<table width="98%" border="0" align="center" cellpadding=0 cellspacing=0 class="tablebord" id="table1"  >
    <TR    align="center" height=22>
      <TD width="10%"   nowrap >端口</TD>
      <TD width="26%"   nowrap ><div align="left">进限速速率 (64~2048K,1~100M/1000M)</div></TD>
      <TD width="64%"   nowrap ><div align="left">出限速速率 (64~2048K,1~100M/1000M)</div></TD>
    </TR>
    <script language= "javascript">
	  for(var i = 1; i <= portNum; i++)
	  {
	  	document.write(" <TR align='center' height=22>");
		document.write(" <td>"+i+"</td>");
		document.write(" <td  class='crons'><div align='left'>");
		document.write("<input name='qI"+i+"' type='text' id='qI"+i+"' size='6' maxlength='7' value='"+qI[i]+"'>");
		document.write(" <select name='qlI"+i+"' id='qlI"+i+"'>");
		document.write(" <option value='1' "+qlI1[i]+">Kbps</option>");
		document.write(" <option value='2' "+qlI2[i]+">Mbps</option>");
		document.write(" </select>");
		document.write(" </div></td>");
		document.write(" <td  class='crons'><div align='left'>");
		document.write("<input name='qE"+i+"' type='text' id='qE"+i+"' size='6' maxlength='7' value='"+qE[i]+"'>");
		document.write(" <select name='qlE"+i+"' id='qlE"+i+"'>");
		document.write(" <option value='1' "+qlE1[i]+">Kbps</option>");
		document.write(" <option value='2' "+qlE2[i]+">Mbps</option>");
		document.write(" </select>");
		document.write(" </div></td>");
		document.write(" </TR>");
	  }
	  </script>
    
    <tr>
    	<td class="partition" colspan="8">&nbsp;
      <input name="ddddd" type="button" class="button1" id="ddddd"  onclick="checkSub()"   value="提交">
    </td>
    </tr>
  </table>
</form>

 
<a name="bottom"></a></BODY></HTML>




