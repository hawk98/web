<HTML>	
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<TITLE>page</TITLE><script language="javascript">if (window == top) top.location.href = "/index.html";
 </script>
<link href="css/display_web.css" rel="stylesheet" type="text/css" />


<script language="javascript" src="js/InputCheck_web.js"></script>

<script language="javascript">

var portNum = $%portNum#$; 

var vlanPvid = new Array();
vlanPvid[1] = $%vlanPvid1#$;
vlanPvid[2] = $%vlanPvid2#$;
vlanPvid[3] = $%vlanPvid3#$;
vlanPvid[4] = $%vlanPvid4#$;
vlanPvid[5] = $%vlanPvid5#$;
vlanPvid[6] = $%vlanPvid6#$;
vlanPvid[7] = $%vlanPvid7#$;
vlanPvid[8] = $%vlanPvid8#$;
vlanPvid[9] = $%vlanPvid9#$;
vlanPvid[10] = $%vlanPvid10#$;
vlanPvid[11] = $%vlanPvid11#$;
vlanPvid[12] = $%vlanPvid12#$;
vlanPvid[13] = $%vlanPvid13#$;
vlanPvid[14] = $%vlanPvid14#$;
vlanPvid[15] = $%vlanPvid15#$;
vlanPvid[16] = $%vlanPvid16#$;
vlanPvid[17] = $%vlanPvid17#$;
vlanPvid[18] = $%vlanPvid18#$;
vlanPvid[19] = $%vlanPvid19#$;
vlanPvid[20] = $%vlanPvid20#$;
vlanPvid[21] = $%vlanPvid21#$;
vlanPvid[22] = $%vlanPvid22#$;
vlanPvid[23] = $%vlanPvid23#$;
vlanPvid[24] = $%vlanPvid24#$;
vlanPvid[25] = $%vlanPvid25#$;
vlanPvid[26] = $%vlanPvid26#$;
vlanPvid[27] = $%vlanPvid27#$;
vlanPvid[28] = $%vlanPvid28#$;

var vlanPriority = new Array();
vlanPriority[1] = $%vlanPriority1#$;
vlanPriority[2] = $%vlanPriority2#$;
vlanPriority[3] = $%vlanPriority3#$;
vlanPriority[4] = $%vlanPriority4#$;
vlanPriority[5] = $%vlanPriority5#$;
vlanPriority[6] = $%vlanPriority6#$;
vlanPriority[7] = $%vlanPriority7#$;
vlanPriority[8] = $%vlanPriority8#$;
vlanPriority[9] = $%vlanPriority9#$;
vlanPriority[10] = $%vlanPriority10#$;
vlanPriority[11] = $%vlanPriority11#$;
vlanPriority[12] = $%vlanPriority12#$;
vlanPriority[13] = $%vlanPriority13#$;
vlanPriority[14] = $%vlanPriority14#$;
vlanPriority[15] = $%vlanPriority15#$;
vlanPriority[16] = $%vlanPriority16#$;
vlanPriority[17] = $%vlanPriority17#$;
vlanPriority[18] = $%vlanPriority18#$;
vlanPriority[19] = $%vlanPriority19#$;
vlanPriority[20] = $%vlanPriority20#$;
vlanPriority[21] = $%vlanPriority21#$;
vlanPriority[22] = $%vlanPriority22#$;
vlanPriority[23] = $%vlanPriority23#$;
vlanPriority[24] = $%vlanPriority24#$;
vlanPriority[25] = $%vlanPriority25#$;
vlanPriority[26] = $%vlanPriority26#$;
vlanPriority[27] = $%vlanPriority27#$;
vlanPriority[28] = $%vlanPriority28#$;

function checkSub()
{
	var idName="";
	var i=1;
	for(i=1;i<=portNum;i++)
	{
	idName = "vlanPvid"+i;
	/*if(isNaN(document.getElementById(idName).value))
		{
		alert("端口"+convert_tomodport(i)+" PVID设置错误");
		return; 
		}*/
	 //alert("idName="+idName+"value"+document.getElementById(idName).value);
	if(!fucCheckNUM1(document.getElementById(idName).value))
		{
		alert("端口"+convert_tomodport(i)+" PVID设置错误");
		return false;
		}
	if(document.getElementById(idName).value<1 || document.getElementById(idName).value>4094)
	{
		alert("端口"+convert_tomodport(i)+" PVID设置错误,范围是1-4094。");
		return;
	}

		
	idName = "vlanPriority"+i;
	// alert("idName="+idName+":value"+document.getElementById(idName).value);
		
	if(!fucCheckNUM1(document.getElementById(idName).value))
		{
		alert("端口"+convert_tomodport(i)+" 优先级设置错误");
		return false;
		}
	if(isNaN(document.getElementById(idName).value))
		{
		alert("端口"+convert_tomodport(i)+" 优先级设置错误");
		return;
		}
	if(document.getElementById(idName).value<0 || document.getElementById(idName).value>7)
	{
		alert("端口"+convert_tomodport(i)+"优先级设置错误,范围是0-7。");
		return;
		}
		
	}

	document.form1.submit();
}


function fucCheckNUM1(NUM)
{
 var i,j,strTemp;
 strTemp="0123456789";
 if ( NUM.length== 0)
  return 0
 for (i=0;i<NUM.length;i++)
 {
  j=strTemp.indexOf(NUM.charAt(i)); 
  if (j==-1)
  {
  //说明有字符不是数字
   return false;
  }
 }
 //说明是数字
 return true;
} 

function display(){
changebgcolor();
}

</script>

</HEAD>

<BODY  onload=display() >
<br>


<div id="view_help"  style="display:none">

<table width="98%" border="0" align="center" cellpadding="0" cellspacing="0" class="">
<tr>
    <td  class="Tablelist"><nobr>帮助</nobr></td>
    <td   class="tablenew"></td>
  </tr>
</table>
<TABLE width="98%" align="center" cellpadding=0 cellspacing=0   class="tablebord" bgcolor="D3E4F4">
	  
<SCRIPT language="javascript">
		document.writeln(top.leftframe.helptext('vlan_port'));
 </SCRIPT>
	  
	  </TABLE>
</div>


  <form id="form1" name="form1" method="post" action="">

<table width="98%" border="0" align="center" cellpadding="0" cellspacing="0" class="">
  <tr>
    <td  class=Tablelist id=tabs name=tabs>VLAN 端口配置</td>
</table>

<table width="98%" border="0" align="center" cellpadding=0 cellspacing=0 class="tablebord" id="table1"  >
    <TR    align="center" height=22>
      <TD width="12%"   nowrap >端口</TD>
      <TD width="16%"   nowrap >PVID</TD>
      <TD width="72%"  align="left" nowrap >&nbsp;&nbsp;&nbsp;&nbsp;优先级</TD>
    </TR>
   
    <script language="javascript">
	for(var i = 1; i <= portNum; i++)
	{
		document.write("<tr class='table_maintable'>");
		document.write(" <td  class='crons'><input name='vlanPvid"+i+"' type='text' id='vlanPvid"+i+"' size='6' maxlength='4' value= '"+vlanPvid[i]+"' ></td>");
		document.write("  <td  class='crons'><input name='vlanPriority"+i+"' type='text' id='vlanPriority"+i+"' size='6' maxlength='4' value= '"+vlanPriority[i]+"'></td>");
	}
	</script>
    
    <tr>
    	 <td class="partition" colspan="8">&nbsp;
      <input name="ddddd" type="button" class="button1" id="ddddd"  onclick="checkSub()" value="提交">
    </td>
  </tr>
    </tr>
  </table>
</form>

 
<a name="bottom"></a></BODY></HTML>




