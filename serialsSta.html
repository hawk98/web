<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>WEB</title>


<script language="javascript">
var serialsPort = new Array();

serialsPort[0] = [$%serialsPortStaList1#$];
serialsPort[1] = [$%serialsPortStaList2#$];
serialsPort[2] = [$%serialsPortStaList3#$];
serialsPort[3] = [$%serialsPortStaList4#$];

/*
serialsPort[0] = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17];
serialsPort[1] = ["a","b","c","d","e","f","g","h","j","k"];
serialsPort[2] = ["678678","678678","678678","678678","678678","678678","678678","678678","678678","678678"];
serialsPort[3] = ["123434","123434","123434","123434","123434","123434","123434","123434","123434","123434"];
*/

function writeInfo()
{
	var i;
	var j;
	
	for(i=0;i<$%tSerialNum#$;i++)
	{
	j=0;
	
	document.write("  <tr>");
	document.write("   <td width='4%' align='center' class='table_main3'><img src='images/main_leftsmall.jpg' width='40' height='25' /></td>");
	document.write("   <td colspan=6 class='table_main3'>串口"+(i+1)+"</td>");
	document.write("   </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2' width='15%'>sock_rx_octets</td>");
	document.write("   <td  class='crons' width='15%'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25' width='15%'>sock_tx_octets</td>");
	document.write("   <td  class='crons' width='15%'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25' width='15%'>sock_rx_drops</td>");
	document.write("   <td  class='crons' width='25%'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");	
	document.write("   <td  class='td25' colspan='2'>sock_rx_packets</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>sock_rx_crc_align_errors</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>sock_rx_64</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td  class='td25' colspan='2'>sock_rx_65_127</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>sock_rx_128_255</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>sock_rx_256_511</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td  class='td25' colspan='2'>sock_rx_512_1023</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>sock_rx_1024_1526</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>sock_rx_1527_max</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>sock_tx_drops</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>sock_tx_packets</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>sock_tx_64</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td  class='td25' colspan='2'>sock_tx_65_127</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>sock_tx_128_255</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>sock_tx_256_511</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>sock_tx_512_1023</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>sock_tx_1024_1526</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>sock_tx_1527_max</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='7'>&nbsp;</td>");
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>srl_rx_octets</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>srl_tx_octets</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>srl_rx_drops</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td  class='td25' colspan='2'>srl_rx_packets</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>srl_rx_crc_align_errors</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>srl_rx_64</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>srl_rx_65_127</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>srl_rx_128_255</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>srl_rx_256_511</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td  class='td25' colspan='2'>srl_rx_512_1023</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>srl_rx_1024_1526</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>srl_rx_1527_max</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>srl_tx_drops</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>srl_tx_packets</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>srl_tx_64</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td  class='td25' colspan='2'>srl_tx_64</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>srl_tx_128_255</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>srl_tx_256_511</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>srl_tx_512_1023</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>srl_tx_1024_1526</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>srl_tx_1527_max</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='7'>&nbsp;</td>");
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>sockmainloop</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25' colspan='4'>&nbsp;</td>");
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>sockcurrSendCount</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>sockmaxSendCount</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>sockreSendFlag</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td  class='td25' colspan='2'>sockdatalen</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>sockCurRcvIndex</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>sockCurSndIndex</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>socktotalCount</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25' colspan='4'>&nbsp;</td>");
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='7'>&nbsp;</td>");
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>srlcurrSendCount</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>srlmaxSendCount</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>srlreSendFlag</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td  class='td25' colspan='2'>srldatalen</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25'>srlCurRcvIndex</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td  class='td25'>srlCurSndIndex</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='2'>srltotalCount</td>");
	document.write("   <td  class='crons'>"+serialsPort[i][j]+"</td>");
	j++;
	document.write("   <td class='td25' colspan='4'>&nbsp;</td>");
	document.write(" </tr>");
	document.write(" <tr>");
	document.write("   <td class='td25' colspan='7'>&nbsp;</td>");
	document.write(" </tr>");

	}
}

timer=null;
var isserialStaAutoflash = true;
function aotoRefresh()
{
	timer=setTimeout("doAotofresh()",5000);
}

function doAotofresh()
{
if(document.getElementById("serialStaAutoflash").checked == true && isserialStaAutoflash == true)
	{
document.getElementById("igmpStaClearFlag").value = 0;
document.form1.submit();
	}
}
function aotoRefreshSet()
{
if(document.getElementById("serialStaAutoflash").checked == true)
	isserialStaAutoflash = true;
else
	isserialStaAutoflash = false;
}
function refreshNow()
{
document.form1.submit();
}

function clearSta()
{
	if(!confirm("您确定要清除吗？"))	
	{
		return;
	}
	document.getElementById("igmpStaClearFlag").value = 1;
	//alert(document.form1.igmpStaClearFlag.vlaue);
	document.form1.submit();
}

function flashSta(){

document.getElementById("igmpStaClearFlag").value = 0;
document.form1.submit();
}

</script>
</head>

<body >
<div class="container" id="cpcontainer">
  <form id="form1" name="form1" method="post" action="">
<table width="95%" border="0" align="center" cellpadding="0" cellspacing="0">
  <tr><td height="10"></td></tr>
  <tr>
    <td colspan="9" align="left"><table width="250" border="0" cellpadding="0" cellspacing="0" class="table_main2">
      <tr>
        <td width="41" background="images/main_top.jpg"><img src="images/main_tops.jpg"/></td>
        <td background="images/main_top.jpg" class="h14blackblod">串口数据统计</td>
      </tr>
    </table></td></tr>
  <tr><td class="table_main1">
  <table class="table_maintable" cellpadding="0">
<tr>
	<td colspan="4" class='crons'></td>
<th colspan="3"  class='crons'>
<input name="serialStaAutoflash " type="checkbox" id="serialStaAutoflash"  onclick="aotoRefreshSet()"  value="ON" $%serialStaAutoflash#$/>         
自动刷新 &nbsp;&nbsp;&nbsp;&nbsp;
       <input type="button" class="button3" name="button" id="button" value=" 立即刷新 "   onclick="flashSta()" />
       <input type="button" class="button1" name="button2" id="button2" value="清零" onclick="clearSta()" />
        <input type="hidden" name="igmpStaClearFlag" id="igmpStaClearFlag" / VALUE="$%igmpStaClearFlag#$">
</th>
</tr>
  <script language="javascript">
  writeInfo();
  aotoRefresh();
  </script>
</table>

<INPUT TYPE="HIDDEN" NAME="CheckBoxManager" VALUE="serialStaAutoflash" ></form>
</div>
</body>
</html>
